## mysql瓶颈

1. CPU : cpu在饱和一般发生在数据装入内存或从磁盘读取数据的时候
2. IO：自盘IO瓶颈发生在装入数据远大于内存容量的时候
3. 服务器硬件：用top,free,iostat,vmstat来查看系统的性能状态

## explain（star）

使用EXPLAIN关键字可以**模拟优化器执行SQL语句**，从而知道MySQL是如何处理你的SQL语句的，**分析你的查询语句或是结构的性能瓶颈**

### 使用方法（生成执行计划）

`explain [sql语句]`

生成执行计划包含的信息，可以得到：

- 表的读取顺序
- 数据读取操作的操作类型
- 哪些索引可以被使用
- 哪些索引被实际使用
- 表之间的引用
- 每张表有多少行被优化器查询

### 执行计划包含的信息

 expain出来的信息有10列，分别是id、select_type、table、type、possible_keys、key、key_len、ref、rows、Extra

**概要描述：**

- **id**:选择标识符
- **select_type**:表示查询的类型。
- **table**:输出结果集的表
- **partitions**:匹配的分区、
- **type**:表示表的连接类型
- **possible_keys**:表示查询时，可能使用的索引
- **key**:表示实际使用的索引
- **key_len**:索引字段的长度
- **ref**:列与索引的比较
- **rows**:扫描出的行数(估算的行数)
- **filtered**:按表条件过滤的行百分比
- **Extra**:执行情况的描述和说明